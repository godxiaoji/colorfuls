!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("colorful",[],r):"object"==typeof exports?exports.colorful=r():t.colorful=r()}(this,(function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var s=r[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var s in t)e.d(n,s,function(r){return t[r]}.bind(null,s));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=0)}([function(t,r,e){"use strict";function n(t){return"number"==typeof t&&isFinite(t)}function s(t){return null!=t&&!isNaN(parseFloat(t))}function i(t){return"string"==typeof t}function a(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}function h(t,r=0,e=100){if(function(t){return i(t)&&/^(\d+)%$/.test(t)}(t)){const n=parseFloat(t);return n>=r&&n<=e}return!1}function u(t,r=0,e=1){return Math.min(e,Math.max(r,t))}function l(t){return i(t)&&t.endsWith("%")?parseFloat(t)/100:parseFloat(t)}e.r(r),e.d(r,"rgba2hexa",(function(){return C})),e.d(r,"rgba2hsla",(function(){return N})),e.d(r,"rgb2hex",(function(){return T})),e.d(r,"rgb2hsl",(function(){return U})),e.d(r,"hexa2Rgba",(function(){return W})),e.d(r,"hexa2hsla",(function(){return G})),e.d(r,"hex2Rgb",(function(){return z})),e.d(r,"hex2hsl",(function(){return B})),e.d(r,"hsla2Rgba",(function(){return J})),e.d(r,"hsla2Hexa",(function(){return K})),e.d(r,"hsl2Rgb",(function(){return Q})),e.d(r,"hsl2Hex",(function(){return V})),e.d(r,"mix",(function(){return F})),e.d(r,"gradient",(function(){return P})),e.d(r,"linearGradient",(function(){return q}));const c=/^#([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{3});?$/i,f=/^rgb[a]?[(][\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?|100%|[0-9]{1,2}%)[\s]*,[\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?|100%|[0-9]{1,2}%)[\s]*,[\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?|100%|[0-9]{1,2}%)[\s]*,?[\s]*(0?\.\d{1,2}|1|0|100%|[0-9]{1,2}%)?[)];?$/i,g=/^hsl[a]?[(][\s]*(360|3[0-5][0-9]|[012]?[0-9][0-9]?)[\s]*,[\s]*(100%|[0-9]{1,2}%)[\s]*,[\s]*(100%|[0-9]{1,2}%)[\s]*,?[\s]*(0?\.\d{1,2}|1|0|100%|[0-9]{1,2}%)?[)];?$/i;function b(t){return c.test(t.trim())}function _(t){return f.test(t.trim())}function p(t){return g.test(t.trim())}function d(t){let r=1;return s(t)&&(r=u(l(t))),r}function x(t){return u(l(t))}function m(t,r){return u(t*(1-l(r)))}function H(t,r){return u(t*(1+l(r)))}function y(t,r,e){return 38*t+75*r+15*e>>7}class w{constructor(t,r,e,n){this._r=t,this._g=r,this._b=e,this.alpha(n)}rgba(){return this}red(t){return o(t)?this._r:(n(t)&&(this._r=parseInt(u(t,0,255))),this)}green(t){return o(t)?this._g:(n(t)&&(this._g=parseInt(u(t,0,255))),this)}blue(t){return o(t)?this._b:(n(t)&&(this._b=parseInt(u(t,0,255))),this)}alpha(t){return o(t)?this._a:(this._a=d(t),this)}fadeOut(t){return this._a=m(this._a,t),this}fadeIn(t){return this._a=H(this._a,t),this}fade(t){return this.fadeOut(t)}opaque(t){return this.fadeIn(t)}invert(){return this._r=255-this._r,this._g=255-this._g,this._b=255-this._b,this}complement(){return this.hsla().complement().rgba()}grayscale(){const t=Math.round(y(this._r,this._g,this._b));return this._r=t,this._g=t,this._b=t,this}isLight(){return!this.isDark()}isDark(){return y(this._r,this._g,this._b)<128}hsla(){const{h:t,s:r,l:e}=function(t,r,e){t/=255,r/=255,e/=255;const n=Math.max(t,r,e),s=Math.min(t,r,e);let i,a,o=(n+s)/2;if(n==s)i=a=0;else{let h=n-s;switch(a=o>.5?h/(2-n-s):h/(n+s),n){case t:i=(r-e)/h+(r<e?6:0);break;case r:i=(e-t)/h+2;break;case e:i=(t-r)/h+4}i/=6}return{h:360*i,s:a,l:o}}(this._r,this._g,this._b);return new R(t,r,e,this._a)}toHsl(){return this.hsla().toHsl()}toHsla(){return this.hsla().toHsla()}hexa(){return new $(function(t,r,e){let n=(t<<16|r<<8|e).toString(16);for(let t=0,r=6-n.length;t<r;t++)n="0"+n;return"#"+n}(this._r,this._g,this._b)+function(t,r){t=Math.round(255*t);let e="";for(;t;)e="0123456789abcdef".charAt(t%16)+e,t=Math.floor(t/16);if(void 0===r||r<=e.length)return e;let n=r-e.length,s="";for(;n-- >0;)s+="0";return s+e}(this._a,2))}toHex(){return this.hexa().toHex()}toHexa(){return this.hexa().toHexa()}toRgb(){return`rgb(${this._r}, ${this._g}, ${this._b})`}toRgba(){return`rgba(${this._r}, ${this._g}, ${this._b}, ${this.alpha()})`}toString(){return this.toRgba()}toArray(){return[this._r,this._g,this._b,this.alpha()]}}class R{constructor(t,r,e,n){this.hue(t),this.saturation(r),this.lightness(e),this.alpha(n)}hsla(){return this}hue(t){return o(t)?Math.round(this._h):(s(t)&&(this._h=u(parseFloat(t),0,360)),this)}saturation(t){return o(t)?Math.round(100*this._s)+"%":(s(t)&&(this._s=x(t)),this)}lightness(t){return o(t)?Math.round(100*this._l)+"%":(s(t)&&(this._l=x(t)),this)}alpha(t){return o(t)?this._a:(this._a=d(t),this)}fadeOut(t){return this._a=m(this._a,t),this}fadeIn(t){return this._a=H(this._a,t),this}fade(t){return this.fadeOut(t)}opaque(t){return this.fadeIn(t)}rotate(t){return n(t)&&(this._h=(this._h+t+360)%360),this}saturate(t){return n(t)&&(this._s=H(this._s,t)),this}desaturate(t){return n(t)&&(this._s=m(this._s,t)),this}lighten(t){return n(t)&&(this._l=H(this._l,t)),this}darken(t){return n(t)&&(this._l=m(this._l,t)),this}grayscale(){return this.rgba().grayscale().hsla()}invert(){return this.rgba().invert().hsla()}complement(){return this.rotate(180)}isLight(){return this.rgba().isLight()}isDark(){return this.rgba().isDark()}rgba(){const{r:t,g:r,b:e}=function(t,r,e){let n,s,i;if(0===r)n=s=i=e;else{const a=e<.5?e*(1+r):e+r-e*r,o=2*e-a;n=j(o,a,(t/=360)+1/3),s=j(o,a,t),i=j(o,a,t-1/3)}return{r:Math.round(255*n),g:Math.round(255*s),b:Math.round(255*i)}}(this._h,this._s,this._l);return new w(t,r,e,this._a)}toRgb(){return this.rgba().toRgb()}toRgba(){return this.rgba().toRgba()}hexa(){return this.rgba().hexa()}toHex(){return this.hexa().toHex()}toHexa(){return this.hexa().toHexa()}toHsl(){return`hsl(${this.hue()}, ${this.saturation()}, ${this.lightness()})`}toHsla(){return`hsla(${this.hue()}, ${this.saturation()}, ${this.lightness()}, ${this.alpha()})`}toString(){return this.toHsla()}}class ${constructor(t){7===(t=t.toUpperCase()).length?(this._hex=t,this._hexa=t+"FF"):(this._hexa=t,this._hex=t.slice(0,7))}hexa(){return this}grayscale(){return this.rgba().grayscale().hexa()}isLight(){return this.rgba().isLight()}isDark(){return this.rgba().isDark()}invert(){return this.rgba().invert().hexa()}complement(){return this.hsla().complement().hexa()}rgba(){return new w(parseInt("0x"+this._hexa.slice(1,3)),parseInt("0x"+this._hexa.slice(3,5)),parseInt("0x"+this._hexa.slice(5,7)),parseFloat(parseInt("0x"+this._hexa.slice(7,9))/255))}toRgb(){return this.rgba().toRgb()}toRgba(){return this.rgba().toRgba()}hsla(){return this.rgba().hsla()}toHsl(){return this.hsla().toHsl()}toHsla(){return this.hsla().toHsla()}toHex(){return this._hex}toHexa(){return this._hexa}toString(){return this.toHexa()}}function v(t){return i(t)&&t.endsWith("%")?Math.round(255*parseInt(t)/100):parseInt(t)}function M(t){let r;if(a(t)&&n(t.r)&&n(t.g)&&n(t.b))r=[null,t.r,t.g,t.b,s(t.a)?t.a:1];else{if(!_(t))throw new Error("It is not a valid rgb/rgba string");r=f.exec(t.trim())}return new w(v(r[1]),v(r[2]),v(r[3]),r[4])}function I(t){if(!b(t))throw new Error("It is not a valid hex/hexa string");let r,e,n,s;return 4===(t=t.trim()).length?(r=t.slice(1,2)+t.slice(1,2),e=t.slice(2,3)+t.slice(2,3),n=t.slice(3,4)+t.slice(3,4)):(r=t.slice(1,3),e=t.slice(3,5),n=t.slice(5,7)),s=9===t.length?t.slice(7,9):"ff",new $(`#${r}${e}${n}${s}`.toUpperCase())}function j(t,r,e){return e<0&&(e+=1),e>1&&(e-=1),6*e<1?t+6*(r-t)*e:2*e<1?r:3*e<2?t+(r-t)*(2/3-e)*6:t}function O(t){let r;if(a(t)&&n(t.h)&&s(t.s)&&s(t.l))r=[null,t.h,t.s,t.l,s(t.a)?t.a:1];else{if(!p(t))throw new Error("It is not a valid hsl/hsla string");r=g.exec(t.trim())}return new R(...r.slice(1,5))}function k(t){return t instanceof w?new w(t._r,t._g,t._b,t._a):t instanceof R?new R(t._h,t._s,t._l,t._a):t instanceof $?new $(t._hexa):t}function S(t){if(a(t)){if(t instanceof w||t instanceof R||t instanceof $)return k(t);if(n(t.r)&&n(t.g)&&n(t.b))return M(t);if(n(t.h)&&h(t.s)&&h(t.l))return O(t)}else{if(b(t))return I(t);if(_(t))return M(t);if(p(t))return O(t)}throw new Error("Invaild color value.")}function F(t,r,e){const n=S(t).rgba(),s=S(r).rgba(),i=o(e)?.5:u(l(e)),a=2*i-1,h=n.alpha()-s.alpha(),c=((a*h==-1?a:(a+h)/(1+a*h))+1)/2,f=1-c;return M({r:c*n.red()+f*s.red(),g:c*n.green()+f*s.green(),b:c*n.blue()+f*s.blue(),a:n.alpha()*i+s.alpha()*(1-i)})}function A(t,r){return t.toArray().map((t,e)=>Math.pow(3==e?t:t/255,r))}function D(t,r,e){let n,s;for(let i=0,a=r.length;i<a;i++){const a=r[i];if(t===a.percentage)return k(a.color);if(t<a.percentage){const o=r[i-1];n=A(o.color,e),s=A(a.color,e),console.log(t-o.percentage,a.percentage-o.percentage),t=(t-o.percentage)/(a.percentage-o.percentage);break}}const i=[];for(let r=0;r<4;r++){const a=Math.pow(n[r]*(1-t)+s[r]*t,1/e);i[r]=3===r?a:Math.round(255*a)}return console.log(t,i,M({r:i[0],g:i[1],b:i[2],a:i[3]}).toHexa()),M({r:i[0],g:i[1],b:i[2],a:i[3]})}class E extends Array{toRgbs(){return this.map(t=>t.toRgb())}toHexs(){return this.map(t=>t.toHex())}toHsls(){return this.map(t=>t.toHsl())}toRgbas(){return this.map(t=>t.toRgba())}toHexas(){return this.map(t=>t.toHexa())}toHslas(){return this.map(t=>t.toHsla())}toString(){return this.toRgbas().join(", ")}}class L{constructor(t,r=1){this.colors=function(t){const r=[];let e=[],n=0;for(let i=0,a=t.length;i<a;i++){const o={percentage:null};if(s=t[i],Array.isArray(s)?(o.color=S(t[i][0]).rgba(),o.percentage=u(l(t[i][1]),n,1)):o.color=S(t[i]).rgba(),0===i?o.percentage=0:i===a-1&&(o.percentage=1),null===o.percentage)e.push(i);else if(i>0&&(n=o.percentage,e.length>0)){const t=(o.percentage-r[e[0]-1].percentage)/(e.length+1);e.forEach((n,s)=>{r[n].percentage=o.percentage-t*(e.length-s)}),e=[]}r.push(o)}var s;return r}(t),this.gamma=r}steps(t){const r=new E;if(t>=2)for(let e=0;e<t;e++)r.push(D(e/(t-1),this.colors,this.gamma));return r}step(t){return D(u(l(t)),this.colors,this.gamma)}}function P(t,r,e=1){return new L([t,r],e)}function q(...t){return new L(t,1)}r.default=S;function C(t){return M(t).toHexa()}function N(t){return M(t).toHsla()}function T(t){return M(t).toHex()}function U(t){return M(t).toHsl()}function W(t){return I(t).toRgba()}function G(t){return I(t).toHsla()}function z(t){return I(t).toRgb()}function B(t){return I(t).toHsl()}function J(t){return O(t).toRgba()}function K(t){return O(t).toHexa()}function Q(t){return O(t).toRgb()}function V(t){return O(t).toHex()}}])}));